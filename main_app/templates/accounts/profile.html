{% extends 'base.html' %}
{% load static %}

{% block content %}

<div class="profile">PROFILE<span class="edit-btn"><a href="{% url 'profile_update' profile.id %}"><img src="{% static 'images/edit-btn.svg' %}" alt=""></a></span>
</div>

<div class="intro-container">
    <h2 style="text-align: center; margin-bottom: 25px;">{{user.username.capitalize}}</h2>
        <div style="display: flex; gap: 30px;"><a style=" color: #333333;" href="{% url 'horoscope_update' user.horoscope.id %}">Edit Horoscope</a><br>
    <a style=" color: #333333;" href="{% url 'profile_delete' profile.id %}">Delete Profile</a></div><br>
</div>



<p class="edit-title">SIGN: {{user.horoscope.horoscope}}</p>
<p class="edit-title">HOBBIES</p>
<img class="line" src="{% static 'images/small-line.svg' %}" alt="">
<div class="profile-details">Hobbies go here</div>
<p class="edit-title">FAVOURITE MOVIES</p>
<img class="line" src="{% static 'images/small-line.svg' %}" alt="">
<div class="profile-details">Movie info goes here</div>
<p class="edit-title">FAVOURITE FOODS</p>
<img class="line" src="{% static 'images/small-line.svg' %}" alt="">
<div class="profile-details">Food info goes here</div>
<p class="edit-title">SOCIAL MEDIA</p>
<img class="line" src="{% static 'images/small-line.svg' %}" alt="">
<div class="profile-details"><img class="ig" style="display: inline;" src="{% static 'images/ig.svg' %}" alt=""> - >{{user.username}}@social.com
</div>
<div class="bottom-nav-container">
    <div><a class="nav" href="{% url 'matches' %}">MATCHES</a></div>
    <div><a class="nav" href="{% url 'profile' %}">PROFILE</a></div>
    <div><a class="nav" href="{% url 'horoscope_index' %}">HOROSCOPES</a></div>
    <div><a class="nav" href="{% url 'home' %} ">LOG OUT</a></div>
</div>
<script>
    
    let horoscope = document.querySelector('#api')
    let horoscopeNum = document.querySelector('#apinum')

    fetch("https://sameer-kumar-aztro-v1.p.rapidapi.com/?sign=capricorn&day=today", {
	"method": "POST",
	"headers": {
		"x-rapidapi-host": "sameer-kumar-aztro-v1.p.rapidapi.com",
		"x-rapidapi-key": "f8b2763b42msh1e3e6fc2c58638dp1e89bbjsn4c0e49670f6d"
	}
})
.then(res=>res.json())
.then(data => {
	horoscope.innerHTML = data.description
    horoscopeNum.innerHTML = data.lucky_time
})
.catch(err => {
	console.error(err);
});
</script>


{% endblock %}